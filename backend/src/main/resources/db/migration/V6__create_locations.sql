CREATE TABLE countries (
    id                  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    code                NVARCHAR(2),
    full_name           NVARCHAR(256),
    CONSTRAINT pk_countries PRIMARY KEY (id)
)

CREATE TABLE locations (
    id                      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    creator_id              BIGINT NOT NULL,
    description             NVARCHAR(2000),
    capacity                INT,
    country_id              BIGINT NOT NULL,
    city                    NVARCHAR(256) NOT NULL,
    street                  NVARCHAR(256),
    building_nr             NVARCHAR(32),
    apartment_nr            NVARCHAR(32),
    zip_code                NVARCHAR(16),
    FOREIGN KEY (creator_id) REFERENCES users(id),
    FOREIGN KEY (country_id) REFERENCES countries(id),
    CONSTRAINT pk_locations PRIMARY KEY (id)
);

ALTER TABLE events ADD location_id BIGINT NULL CONSTRAINT FOREIGN KEY REFERENCES locations(id);

INSERT INTO countries (code, full_name) VALUES
('PL', 'Polska'),
('AF', 'Afganistan'),
('AX', 'Wyspy Alandzkie'),
('AL', 'Albania'),
('DZ', 'Algieria'),
('AS', 'Samoa Amerykańskie'),
('AD', 'Andora'),
('AO', 'Angola'),
('AI', 'Anguilla'),
('AQ', 'Antarktyda'),
('AG', 'Antigua i Barbuda'),
('AR', 'Argentyna'),
('AM', 'Armenia'),
('AW', 'Aruba'),
('AU', 'Australia'),
('AT', 'Austria'),
('AZ', 'Azerbejdżan'),
('BS', 'Bahamy'),
('BH', 'Bahrajn'),
('BD', 'Bangladesz'),
('BB', 'Barbados'),
('BY', 'Białoruś'),
('BE', 'Belgia'),
('BZ', 'Belize'),
('BJ', 'Benin'),
('BM', 'Bermudy'),
('BT', 'Bhutan'),
('BO', 'Boliwia'),
('BQ', 'Bonaire, Sint Eustatius i Saba'),
('BA', 'Bośnia i Hercegowina'),
('BW', 'Botswana'),
('BV', 'Wyspa Bouveta'),
('BR', 'Brazylia'),
('IO', 'Brytyjskie Terytorium Oceanu Indyjskiego'),
('BN', 'Brunei Darussalam'),
('BG', 'Bułgaria'),
('BF', 'Burkina Faso'),
('BI', 'Burundi'),
('KH', 'Kambodża'),
('CM', 'Kamerun'),
('CA', 'Kanada'),
('CV', 'Wyspy Zielonego Przylądka'),
('KY', 'Kajmany'),
('CF', 'Republika Środkowoafrykańska'),
('TD', 'Czad'),
('CL', 'Chile'),
('CN', 'Chiny'),
('CX', 'Wyspa Bożego Narodzenia'),
('CC', 'Wyspy Kokosowe (Keelinga)'),
('CO', 'Kolumbia'),
('KM', 'Komory'),
('CG', 'Kongo'),
('CD', 'Kongo, Demokratyczna Republika Konga'),
('CK', 'Wyspy Cooka'),
('CR', 'Kostaryka'),
('CI', 'Wybrzeże Kości Słoniowej'),
('HR', 'Chorwacja'),
('CU', 'Kuba'),
('CW', 'Curacao'),
('CY', 'Cypr'),
('CZ', 'Republika Czeska'),
('DK', 'Dania'),
('DJ', 'Dżibuti'),
('DM', 'Dominika'),
('DO', 'Republika Dominikany'),
('EC', 'Ekwador'),
('EG', 'Egipt'),
('SV', 'Salwador'),
('GQ', 'Gwinea Równikowa'),
('ER', 'Erytrea'),
('EE', 'Estonia'),
('ET', 'Etiopia'),
('FK', 'Falklandy (Malwiny)'),
('FO', 'Wyspy Owcze'),
('FJ', 'Fidżi'),
('FI', 'Finlandia'),
('FR', 'Francja'),
('GF', 'Gujana Francuska'),
('PF', 'Polinezja Francuska'),
('TF', 'Francuskie Terytoria Południowe'),
('GA', 'Gabon'),
('GM', 'Gambia'),
('GE', 'Gruzja'),
('DE', 'Niemcy'),
('GH', 'Ghana'),
('GI', 'Gibraltar'),
('GR', 'Grecja'),
('GL', 'Grenlandia'),
('GD', 'Grenada'),
('GP', 'Gwadelupa'),
('GU', 'Guam'),
('GT', 'Gwatemala'),
('GG', 'Guernsey'),
('GN', 'Gwinea'),
('GW', 'Gwinea Bissau'),
('GY', 'Gujana'),
('HT', 'Haiti'),
('HM', 'Wyspy Heard i McDonalda'),
('VA', 'Stolica Apostolska (Państwo Watykańskie)'),
('HN', 'Honduras'),
('HK', 'Hongkong'),
('HU', 'Węgry'),
('IS', 'Islandia'),
('IN', 'Indie'),
('ID', 'Indonezja'),
('IR', 'Iran (Islamska Republika'),
('IQ', 'Irak'),
('IE', 'Irlandia'),
('IM', 'Wyspa Man'),
('IL', 'Izrael'),
('IT', 'Włochy'),
('JM', 'Jamajka'),
('JP', 'Japonia'),
('JE', 'Golf'),
('JO', 'Jordania'),
('KZ', 'Kazachstan'),
('KE', 'Kenia'),
('KI', 'Kiribati'),
('KP', 'Koreańska Republika Ludowo-Demokratyczna'),
('KR', 'Republika Korei'),
('XK', 'Kosowo'),
('KW', 'Kuwejt'),
('KG', 'Kirgistan'),
('LA', 'Laotańska Republika Ludowo-Demokratyczna'),
('LV', 'Łotwa'),
('LB', 'Liban'),
('LS', 'Lesotho'),
('LR', 'Liberia'),
('LY', 'Libijska Arabska Dżamahirija'),
('LI', 'Liechtenstein'),
('LT', 'Litwa'),
('LU', 'Luksemburg'),
('MO', 'Makao'),
('MK', 'Macedonia, Była Jugosłowiańska Republika'),
('MG', 'Madagaskar'),
('MW', 'Malawi'),
('MY', 'Malezja'),
('MV', 'Malediwy'),
('ML', 'Mali'),
('MT', 'Malta'),
('MH', 'Wyspy Marshalla'),
('MQ', 'Martynika'),
('MR', 'Mauretania'),
('MU', 'Mauritius'),
('YT', 'Majotta'),
('MX', 'Meksyk'),
('FM', 'Mikronezja, Sfederowane Stany'),
('MD', 'Mołdawia, Republika'),
('MC', 'Monako'),
('MN', 'Mongolia'),
('ME', 'Czarnogóra'),
('MS', 'Montserrat'),
('MA', 'Maroko'),
('MZ', 'Mozambik'),
('MM', 'Myanmar'),
('NA', 'Namibia'),
('NR', 'Nauru'),
('NP', 'Nepal'),
('NL', 'Holandia'),
('AN', 'Antyle Holenderskie'),
('NC', 'Nowa Kaledonia'),
('NZ', 'Nowa Zelandia'),
('NI', 'Nikaragua'),
('NE', 'Niger'),
('NG', 'Nigeria'),
('NU', 'Niue'),
('NF', 'Wyspa Norfolk'),
('MP', 'Mariany Północne'),
('NO', 'Norwegia'),
('OM', 'Oman'),
('PK', 'Pakistan'),
('PW', 'Palau'),
('PS', 'Teretorium Paleństynskie, Okupowane'),
('PA', 'Panama'),
('PG', 'Papua Nowa Gwinea'),
('PY', 'Paragwaj'),
('PE', 'Peru'),
('PH', 'Filipiny'),
('PN', 'Pitcairn'),
('PT', 'Portugalia'),
('PR', 'Portoryko'),
('QA', 'Katar'),
('RE', 'Zjazd'),
('RO', 'Rumunia'),
('RU', 'Federacja Rosyjska'),
('RW', 'Rwanda'),
('BL', 'Saint Barthelemy'),
('SH', 'Święta Helena'),
('KN', 'Saint Kitts i Nevis'),
('LC', 'święta Lucia'),
('MF', 'święty Marcin'),
('PM', 'Saint-Pierre i Miquelon'),
('VC', 'Saint Vincent i Grenadyny'),
('WS', 'Samoa'),
('SM', 'San Marino'),
('ST', 'Wyspy Świętego Tomasza i Książęca'),
('SA', 'Arabia Saudyjska'),
('SN', 'Senegal'),
('RS', 'Serbia'),
('CS', 'Serbia i Czarnogóra'),
('SC', 'Seszele'),
('SL', 'Sierra Leone'),
('SG', 'Singapur'),
('SX', 'St Martin'),
('SK', 'Słowacja'),
('SI', 'Słowenia'),
('SB', 'Wyspy Salomona'),
('SO', 'Somali'),
('ZA', 'Afryka Południowa'),
('GS', 'Georgia Południowa i Sandwich Południowy'),
('SS', 'Południowy Sudan'),
('ES', 'Hiszpania'),
('LK', 'Sri Lanka'),
('SD', 'Sudan'),
('SR', 'Surinam'),
('SJ', 'Svalbard i Jan Mayen'),
('SZ', 'Suazi'),
('SE', 'Szwecja'),
('CH', 'Szwajcaria'),
('SY', 'Republika Syryjsko-Arabska'),
('TW', 'Tajwan, prowincja Chin'),
('TJ', 'Tadżykistan'),
('TZ', 'Tanzania, Zjednoczona Republika'),
('TH', 'Tajlandia'),
('TL', 'Timor Wschodni'),
('TG', 'Iść'),
('TK', 'Tokelau'),
('TO', 'Tonga'),
('TT', 'Trynidad i Tobago'),
('TN', 'Tunezja'),
('TR', 'indyk'),
('TM', 'Turkmenia'),
('TC', 'Wyspy Turks i Caicos'),
('TV', 'Tuvalu'),
('UG', 'Uganda'),
('UA', 'Ukraina'),
('AE', 'Zjednoczone Emiraty Arabskie'),
('GB', 'Zjednoczone Królestwo'),
('US', 'Stany Zjednoczone'),
('UM', 'Stany Zjednoczone Dalekie Wyspy Mniejsze'),
('UY', 'Urugwaj'),
('UZ', 'Uzbekistan'),
('VU', 'Vanuatu'),
('VE', 'Wenezuela'),
('VN', 'Viet Nam'),
('VG', 'Wyspy Dziewicze, Brytyjskie'),
('VI', 'Wyspy Dziewicze Stanów Zjednoczonych'),
('WF', 'Wallis i Futuna'),
('EH', 'Sahara Zachodnia'),
('YE', 'Jemen'),
('ZM', 'Zambia'),
('ZW', 'Zimbabwe');

INSERT INTO locations (creator_id, description, capacity, country_id, city, street, building_nr, apartment_nr, zip_code) VALUES
(3, 'PGE Narodowy', 55000, 1, 'Warszawa', 'al. Księcia Józefa Poniatowskiego', '1', NULL, '03-901'),
(3, 'COS Torwar', 4806, 1, 'Warszawa', 'Łazienkowska', '6A', NULL, '00-449'),
(3, 'Wembley Stadium', 90000, 1, 'Londyn', '11th Floor York House, Empire Way, Wembley', NULL, NULL, 'HA9 0WS');